<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Cuaca Gratis</title>
</head>
<body>
  <h1>Cek Cuaca Sekarang</h1>
  <label for="city">Kota: </label>
  <input type="text" id="city" name="city">
  <button onclick="getWeather()">Cek Cuaca</button>
  <br>
  <p id="weather"></p>

  <script>
      function getWeather() {
          const city = document.getElementById("city").value;
          const lang = "id";
          const url = "https://wttr.in/" + city + "?format=%C|%t|%h|%w|%P|%m|%l&lang=" + lang;
          const request = new XMLHttpRequest();
          request.open("GET", url);
          request.onload = function() {
              const response = request.responseText;
              var weatherInfo = response.split("|");

              // Mendapatkan informasi suhu, kelembaban, kecepatan angin, dan curah hujan
              var condition = weatherInfo[0].trim();
              var temperature = weatherInfo[1].trim();
              var humidity = weatherInfo[2].trim();
              var windSpeed = weatherInfo[3].trim();
              var pressure = weatherInfo[4].trim();
              var moonPhase = weatherInfo[5].trim();
              var location = weatherInfo[6].trim();
          
              document.getElementById("weather").innerHTML = "Kondisi: " + condition + "<br>"
              + "Suhu: " + temperature + " <br>"
              + "Kelembaban: " + humidity + "<br>"
              + "Kecepatan Angin: " + windSpeed + "<br>"
              + "Tekanan Udara: " + pressure + "<br>"
              + "Fase Bulan: " + moonPhase + "<br>"
              + "Lokasi: " + location + "<br>";
          };
          request.send();
      }
  </script>
</body>
</html>
